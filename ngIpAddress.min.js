!function(){"use strict";function e(){return{restrict:"A",require:"?ngModel",scope:{configuration:"=?ngIpConfig"},link:function(e,n,r,i){if(i){var t,o=new RegExp("^0","g"),a=new RegExp("\\.\\.+","g"),g=new RegExp(":","g"),l=new RegExp("^:","g");i.$parsers.push(function(n){if(angular.isUndefined(n))return n="",i.$setValidity("ipAddress",!1),n;var r,u;angular.isUndefined(e.configuration)?(r=!1,u=!1):"boolean"==typeof e.configuration.requirePort||"boolean"==typeof e.configuration.allowPort?(r=e.configuration.allowPort||e.configuration.requirePort,u="boolean"==typeof e.configuration.requirePort?e.configuration.requirePort:!1):(r=!1,u=!1),t=r?new RegExp("^\\.|[^0-9\\.:]+","g"):new RegExp("^\\.|[^0-9\\.]+","g");var s=!0,p=n.replace(t,""),f=p.split(".");f.length<4?s=!1:f.length>4&&(f.length=4);for(var c=0,d=f.length;d>c;c++){if(r)if(3>c)f[c]=f[c].replace(g,"");else{f[c]=f[c].replace(l,"");var v=f[c].split(":");if(f[c]=v[0],void 0!==v[1]){var w=v[1];w=w.replace(o,""),w=w.substring(0,5),(w.length<1||w>65535)&&(s=!1)}else u&&(s=!1)}f[c].length>1?(f[c]=f[c].replace(o,""),f[c]=f[c].substring(0,3),f[c]>255&&(s=!1)):f[c].length<1&&(s=!1)}return p=f.join("."),void 0!==w&&(p=p+":"+w),p=p.replace(a,"."),n!==p&&(i.$setViewValue(p),i.$render()),i.$setValidity("ipAddress",s),p}),n.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()})}}}}angular.module("ng-ip-address",[]).directive("ngIpAddress",e)}();