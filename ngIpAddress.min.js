!function(){"use strict";function e(){return{restrict:"A",require:"?ngModel",scope:{config:"=?ngIpConfig"},link:function(e,n,r,i){if(i){var t,g=new RegExp("^0","g"),l=new RegExp("\\.\\.+","g"),o=new RegExp(":","g"),s=new RegExp("^:","g");i.$parsers.push(function(n){if(n.length<1)return i.$setValidity("ipAddress",!0),n;var r,a;if(angular.isUndefined(e.config))r=!1,a=!1;else{var f="boolean"==typeof e.config.requirePort;r=f&&e.config.requirePort||"boolean"==typeof e.config.allowPort&&e.config.allowPort,a=f&&e.config.requirePort}t=r?new RegExp("^\\.|[^0-9\\.:]+","g"):new RegExp("^\\.|[^0-9\\.]+","g");var p=!0,c=n.replace(t,""),u=c.split("."),d=u.length;4>d?p=!1:d>4&&(u.length=4,d=4);for(var v=0;d>v;v++){if(r)if(3>v)u[v]=u[v].replace(o,"");else if(u[v]=u[v].replace(s,""),-1!==u[v].indexOf(":")){var w=u[v].split(":");u[v]=w[0];var h=w[1].replace(g,"").substring(0,5);(h.length<1||h>65535)&&(p=!1)}else a&&(p=!1);u[v].length>1?(u[v]=u[v].replace(g,"").substring(0,3),u[v]>255&&(p=!1)):u[v].length<1&&(p=!1)}return c=u.join("."),angular.isDefined(h)&&(c=c+":"+h),c=c.replace(l,"."),i.$setValidity("ipAddress",p),n!==c&&(i.$setViewValue(c),i.$render()),c}),n.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()})}}}}angular.module("ng-ip-address",[]).directive("ngIpAddress",e)}();