!function(){"use strict";function e(){return{restrict:"A",require:"?ngModel",scope:{config:"=?ngIpConfig"},link:function(e,n,r,i){if(i){var g,t=new RegExp("^0","g"),l=new RegExp("\\.\\.+","g"),a=new RegExp(":","g"),s=new RegExp("^:","g");i.$parsers.push(function(n){if(angular.isUndefined(n))return n="",i.$setValidity("ipAddress",!1),n;var r,o;if(angular.isUndefined(e.config))r=!1,o=!1;else{var f="boolean"==typeof e.config.requirePort;r=!!(f&&e.config.requirePort||"boolean"==typeof e.config.allowPort&&e.config.allowPort),o=!(!f||!e.config.requirePort)}g=r?new RegExp("^\\.|[^0-9\\.:]+","g"):new RegExp("^\\.|[^0-9\\.]+","g");var p=!0,u=n.replace(g,""),c=u.split(".");c.length<4?p=!1:c.length>4&&(c.length=4);for(var d=0,v=c.length;v>d;d++){if(r)if(3>d)c[d]=c[d].replace(a,"");else{c[d]=c[d].replace(s,"");var w=c[d].split(":");if(c[d]=w[0],angular.isDefined(w[1])){var h=w[1];h=h.replace(t,""),h=h.substring(0,5),(h.length<1||h>65535)&&(p=!1)}else o&&(p=!1)}c[d].length>1?(c[d]=c[d].replace(t,""),c[d]=c[d].substring(0,3),c[d]>255&&(p=!1)):c[d].length<1&&(p=!1)}return u=c.join("."),angular.isDefined(h)&&(u=u+":"+h),u=u.replace(l,"."),n!==u&&(i.$setViewValue(u),i.$render()),i.$setValidity("ipAddress",p),u}),n.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()})}}}}angular.module("ng-ip-address",[]).directive("ngIpAddress",e)}();